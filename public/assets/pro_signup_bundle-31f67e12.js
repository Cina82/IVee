!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){e("../legacy-js/ng/modules/Curtain"),e("../legacy-js/ng/modules/TT"),e("../legacy-js/ng/modules/util"),e("../legacy-js/ng/modules/hotkeys")},{"../legacy-js/ng/modules/Curtain":3,"../legacy-js/ng/modules/TT":4,"../legacy-js/ng/modules/hotkeys":5,"../legacy-js/ng/modules/util":7}],2:[function(e,t,n){e("./ng_core"),e("../legacy-js/tt/action"),e("../legacy-js/ng/modules/stampede"),e("../legacy-js/ng/modules/TT"),e("../legacy-js/ng/modules/Curtain"),e("../legacy-js/ng/vendor/angular-youtube-embed"),e("../legacy-js/ng/static/pro")},{"../legacy-js/ng/modules/Curtain":3,"../legacy-js/ng/modules/TT":4,"../legacy-js/ng/modules/stampede":6,"../legacy-js/ng/static/pro":8,"../legacy-js/ng/vendor/angular-youtube-embed":9,"../legacy-js/tt/action":10,"./ng_core":1}],3:[function(e,t,n){!function(){"use strict";angular.module("curtain",["tt","cfp.hotkeys"]).directive("curtain",["$compile","$rootElement","hotkeys",function(e,t,n){var i={mobile:function(t,n,i){var r,o=$("<div/>",{"class":"curtain-mobile-outer"});return o.attr("data-curtain","active"),o.hide(),o.appendTo("body"),n.appendTo(o),n.addClass("curtain-mobile curtain-opaque"),n.show(),o.prepend(e(angular.element('<div class="curtain-mobile-back" ng-show="'+t.isCloseable()+'"><a href="'+t.curtainCloseUrl+'" data-curtain-close data-curtain-builtin-close-button>Close window</a></div>'))(t)),{show:function(){r=$("body").children(":visible").hide(),o.show(),$("body").addClass("curtain-mobile-container").scrollTop(0)},hide:function(){o.hide(),$("body").removeClass("curtain-mobile-container"),r.show()}}},desktop:function(i,r,o){var a=t.find("body").length?t.find("body"):t,s=$("<div/>",{"class":"curtain"}),c="."+i.getCurtainClass()+"-header";return i.curtainCloseOnClick&&s.on("click",function(e){e.target==s[0]&&i.$apply(function(){angular.isUndefined(i.curtainVisible)||(i.curtainVisible=!1)})}),s.attr("data-curtain","active"),s.hide(),s.appendTo(a),r.appendTo(s),r.addClass("curtain-inner"),r.show(),r.find(c).append(e(angular.element('<a href="'+i.curtainCloseUrl+'" class="modal-close" data-curtain-close data-curtain-builtin-close-button ng-show="'+i.isCloseable()+'">&times;</a>'))(i)),{show:function(){s.show(),$("html").addClass("noscroll"),n.bindTo(i).add({combo:"esc",description:"Close the modal",callback:i.closeCurtain})},hide:function(){s.hide(),$("html").removeClass("noscroll")}}}};return{restrict:"A",scope:{curtainClass:"=",curtainVisible:"=",curtainCloseable:"=",curtainCloseOnClick:"@",curtainCloseUrl:"@"},template:'<div style="display: none;" ng-transclude></div>',transclude:!0,replace:!0,link:function(e,t,n){e.getCurtainClass=function(){return angular.isUndefined(e.curtainClass)?"pod":e.curtainClass},e.isCloseable=function(){return angular.isUndefined(e.curtainCloseable)||e.curtainCloseable},e.closeCurtain=function(){e.curtainVisible=!1};var r="undefined"!=typeof TT_MOBILE&&TT_MOBILE,o=i[r?"mobile":"desktop"],a=o(e,t,n);e.$watch("curtainVisible",function(e,t){e?a.show():e!==t&&a.hide()},!0),t.parent().find("[data-curtain-close]").on("click",function(t){e.curtainCloseUrl||t.preventDefault(),e.$apply(function(){angular.isUndefined(e.curtainVisible)||(e.curtainVisible=!1)})}),t.addClass(e.getCurtainClass()),t.addClass(e.getCurtainClass()+"-modal")}}}])}()},{}],4:[function(e,t,n){!function(){"use strict";var e=angular.module("tt",[]).config(["$interpolateProvider",function(e){e.startSymbol("{[{"),e.endSymbol("}]}")}]).service("browserSupport",function(){return TT.support}).service("environment",["$q",function(e){var t=e.defer();return TT.page(function(e){t.resolve(e("tt/environment"))}),t.promise}]).factory("action",["$http","$q",function(e,t){function n(t,n){return n=$.extend({url:t,method:"POST",json:!1,headers:$.extend({Accept:"application/json"},n.headers||{})},n||{}),n.method=n.method.toUpperCase(),!n.json&&n.data&&"object"==typeof n.data&&(n=i(n)),delete n.json,e(n)}function i(e){return $.extend(e,{data:$.param(e.data),headers:$.extend({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},e.headers||{})})}function r(e,i){function r(e){a.reject(e&&e.error||o)}var a=t.defer();return n(e,i).success(function(e){"object"!=typeof e||e.success!==!1?a.resolve(e):r(e)}).error(r),a.promise}var o="Unexpected error.";return r.track=function(e,t){return r("/event/add/",{json:!0,data:$.extend({type:e},t)})},r}]);e.directive("trackClickAction",["action","$parse",function(e,t){function n(t,n){e.track(t,n).then(function(){},function(e){throw new i(t,n,e)})}function i(e,t,n){this.message="Unable to track '"+e+"' event.",this.response=n,this.eventData=t,this.toString=function(){return this.message+" | event data: "+this.eventData+" | response: "+this.response}}return{restrict:"A",link:function(e,i,r){var o=t(r.trackClickAction)(e);if(!angular.isObject(o))throw"trackClickAction directive requires an object of events";i.on("click",function(){for(var e in o)n(e,o[e])})}}}]),e.directive("ngBlur",["$parse",function(e){return function(t,n,i){var r=e(i.ngBlur);n.on("blur",function(e){t.$apply(function(){r(t,{$event:e})})})}}])}()},{}],5:[function(e,t,n){!function(){"use strict";angular.module("cfp.hotkeys",[]).provider("hotkeys",function(){this.includeCheatSheet=!1,this.templateTitle="Keyboard Shortcuts:",this.template='<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title">{{ title }}</h4><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span></td><td class="cfp-hotkeys-text">{{ hotkey.description }}</td></tr></tbody></table><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">Ã—</div></div></div>',this.cheatSheetHotkey="?",this.cheatSheetDescription="Show / hide this help menu",this.$get=["$rootElement","$rootScope","$compile","$window","$document",function(e,t,n,i,r){function o(e){var t={command:"âŒ˜",shift:"â‡§",left:"â†",right:"â†’",up:"â†‘",down:"â†“","return":"â†©",backspace:"âŒ«"};e=e.split("+");for(var n=0;n<e.length;n++)"mod"===e[n]&&(i.navigator&&i.navigator.platform.indexOf("Mac")>=0?e[n]="command":e[n]="ctrl"),e[n]=t[e[n]]||e[n];return e.join(" + ")}function a(e,t,n,i,r,o){this.combo=e instanceof Array?e:[e],this.description=t,this.callback=n,this.action=i,this.allowIn=r,this.persistent=o}function s(){for(var e=h.hotkeys.length;e--;){var t=h.hotkeys[e];t&&!t.persistent&&u(t)}}function c(){h.helpVisible=!h.helpVisible,h.helpVisible?(b=d("esc"),u("esc"),l("esc",b.description,c)):(u("esc"),b!==!1&&l(b))}function l(e,t,n,i,r,o){var s,c=["INPUT","SELECT","TEXTAREA"],l=Object.prototype.toString.call(e);if("[object Object]"===l&&(t=e.description,n=e.callback,i=e.action,o=e.persistent,r=e.allowIn,e=e.combo),t instanceof Function?(i=n,n=t,t="$$undefined$$"):angular.isUndefined(t)&&(t="$$undefined$$"),void 0===o&&(o=!0),"function"==typeof n){s=n,r instanceof Array||(r=[]);for(var u,d=0;d<r.length;d++)r[d]=r[d].toUpperCase(),u=c.indexOf(r[d]),u!==-1&&c.splice(u,1);n=function(e){var t=!0,n=e.target||e.srcElement,i=n.nodeName.toUpperCase();if((" "+n.className+" ").indexOf(" mousetrap ")>-1)t=!0;else for(var r=0;r<c.length;r++)if(c[r]===i){t=!1;break}t&&p(s.apply(this,arguments))}}"string"==typeof i?Mousetrap.bind(e,p(n),i):Mousetrap.bind(e,p(n));var f=new a(e,t,n,i,r,o);return h.hotkeys.push(f),f}function u(e){var t=e instanceof a?e.combo:e;if(Mousetrap.off(t),angular.isArray(t)){for(var n=!0,i=t.length;i--;)n=u(t[i])&&n;return n}var r=h.hotkeys.indexOf(d(t));return r>-1&&(h.hotkeys[r].combo.length>1?h.hotkeys[r].combo.splice(h.hotkeys[r].combo.indexOf(t),1):h.hotkeys.splice(r,1),!0)}function d(e){for(var t,n=0;n<h.hotkeys.length;n++)if(t=h.hotkeys[n],t.combo.indexOf(e)>-1)return t;return!1}function f(e){return e.$id in y||(y[e.$id]=[],e.$on("$destroy",function(){for(var t=y[e.$id].length;t--;)u(y[e.$id][t]),delete y[e.$id][t]})),{add:function(t){var n;return n=arguments.length>1?l.apply(this,arguments):l(t),y[e.$id].push(n),this}}}function p(e){return function(n,i){if(e instanceof Array){var r=e[0],o=e[1];e=function(e){o.scope.$eval(r)}}t.$apply(function(){e(n,d(i))})}}Mousetrap.stopCallback=function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(t.contentEditable&&"true"==t.contentEditable)},a.prototype.format=function(){for(var e=this.combo[0],t=e.split(/[\s]/),n=0;n<t.length;n++)t[n]=o(t[n]);return t};var h=t.$new();h.hotkeys=[],h.helpVisible=!1,h.title=this.templateTitle,h.toggleCheatSheet=c;var y=[];if(t.$on("$routeChangeSuccess",function(e,t){s(),t&&t.hotkeys&&angular.forEach(t.hotkeys,function(e){var n=e[2];("string"==typeof n||n instanceof String)&&(e[2]=[n,t]),e[5]=!1,l.apply(this,e)})}),this.includeCheatSheet){var m=r[0],g=e[0],v=angular.element(this.template);l(this.cheatSheetHotkey,this.cheatSheetDescription,c),g!==m&&g!==m.documentElement||(g=m.body),angular.element(g).append(n(v)(h))}var b=!1,w={add:l,del:u,get:d,bindTo:f,template:this.template,toggleCheatSheet:c,includeCheatSheet:this.includeCheatSheet,cheatSheetHotkey:this.cheatSheetHotkey,cheatSheetDescription:this.cheatSheetDescription,purgeHotkeys:s,templateTitle:this.templateTitle};return w}]}).directive("hotkey",["hotkeys",function(e){return{restrict:"A",link:function(t,n,i){var r,o;angular.forEach(t.$eval(i.hotkey),function(t,n){o="string"==typeof i.hotkeyAllowIn?i.hotkeyAllowIn.split(/[\s,]+/):[],r=n,e.add({combo:n,description:i.hotkeyDescription,callback:t,action:i.hotkeyAction,allowIn:o})}),n.on("$destroy",function(){e.del(r)})}}}]).run(["hotkeys",function(e){}])}(),function(e,t,n){function i(e,t,n){return e.addEventListener?void e.addEventListener(t,n,!1):void e.attachEvent("on"+t,n)}function r(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return S[e.which]?S[e.which]:x[e.which]?x[e.which]:String.fromCharCode(e.which).toLowerCase()}function o(e,t){return e.sort().join(",")===t.sort().join(",")}function a(e){e=e||{};var t,n=!1;for(t in U)e[t]?n=!0:U[t]=0;n||(M=!1)}function s(e,t,n,i,r,a){var s,c,l=[],u=n.type;if(!E[e])return[];for("keyup"==u&&h(e)&&(t=[e]),s=0;s<E[e].length;++s)if(c=E[e][s],(i||!c.seq||U[c.seq]==c.level)&&u==c.action&&("keypress"==u&&!n.metaKey&&!n.ctrlKey||o(t,c.modifiers))){var d=!i&&c.combo==r,f=i&&c.seq==i&&c.level==a;(d||f)&&E[e].splice(s,1),l.push(c)}return l}function c(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function l(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function u(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function d(e,t,n,i){L.stopCallback(t,t.target||t.srcElement,n,i)||e(t,n)===!1&&(l(t),u(t))}function f(e,t,n){var i,r=s(e,t,n),o={},c=0,l=!1;for(i=0;i<r.length;++i)r[i].seq&&(c=Math.max(c,r[i].level));for(i=0;i<r.length;++i)if(r[i].seq){if(r[i].level!=c)continue;l=!0,o[r[i].seq]=1,d(r[i].callback,n,r[i].combo,r[i].seq)}else l||d(r[i].callback,n,r[i].combo);var u="keypress"==n.type&&A;n.type!=M||h(e)||u||a(o),A=l&&"keydown"==n.type}function p(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=r(e);if(t)return"keyup"==e.type&&P===t?void(P=!1):void L.handleKey(t,c(e),e)}function h(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function y(){clearTimeout(T),T=setTimeout(a,1e3)}function m(){if(!$){$={};for(var e in S)e>95&&e<112||S.hasOwnProperty(e)&&($[S[e]]=e)}return $}function g(e,t,n){return n||(n=m()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function v(e,t,n,i){function o(t){return function(){M=t,++U[e],y()}}function s(t){d(n,t,e),"keyup"!==i&&(P=r(t)),setTimeout(a,10)}U[e]=0;for(var c=0;c<t.length;++c){var l=c+1===t.length,u=l?s:o(i||w(t[c+1]).action);k(t[c],u,i,e,c)}}function b(e){return"+"===e?["+"]:e.split("+")}function w(e,t){var n,i,r,o=[];for(n=b(e),r=0;r<n.length;++r)i=n[r],j[i]&&(i=j[i]),t&&"keypress"!=t&&O[i]&&(i=O[i],o.push("shift")),h(i)&&o.push(i);return t=g(i,o,t),{key:i,modifiers:o,action:t}}function k(e,t,n,i,r){I[e+":"+n]=t,e=e.replace(/\s+/g," ");var o,a=e.split(" ");return a.length>1?void v(e,a,t,n):(o=w(e,n),E[o.key]=E[o.key]||[],s(o.key,o.modifiers,{type:o.action},i,e,r),void E[o.key][i?"unshift":"push"]({callback:t,modifiers:o.modifiers,action:o.action,seq:i,level:r,combo:e}))}function C(e,t,n){for(var i=0;i<e.length;++i)k(e[i],t,n)}for(var $,T,S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},x={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},O={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},j={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},E={},I={},U={},P=!1,A=!1,M=!1,V=1;V<20;++V)S[111+V]="f"+V;for(V=0;V<=9;++V)S[V+96]=V;i(t,"keypress",p),i(t,"keydown",p),i(t,"keyup",p);var L={bind:function(e,t,n){return e=e instanceof Array?e:[e],C(e,t,n),this},unbind:function(e,t){return L.bind(e,function(){},t)},trigger:function(e,t){return I[e+":"+t]&&I[e+":"+t]({},e),this},reset:function(){return E={},I={},this},stopCallback:function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},handleKey:f};e.Mousetrap=L,"function"==typeof define&&define.amd&&define(L)}(window,document)},{}],6:[function(e,t,n){angular.module("stampede",[]).value("stampedeLeft",-1).value("stampedeRight",1).service("stampedeLayout",["stampedeLeft","stampedeRight",function(e,t){function n(e,t){var n,i,r=[],o=t;if(0===e)r=[];else if(1===e)r=[0];else if(2===e)r=0===t?[0,1]:[1,0];else{for(i=0;i<Math.ceil(e/2);i++)n=o%e,r.push(n<0?e+n:n),o+=1;for(o=t-1,i=0;i<Math.floor(e/2);i++)n=o%e,r.unshift(n<0?e+n:n),o-=1}return r}function i(e,t){var i=n(e.length,t),r=[],o=0;return _.forEach(i,function(t,n){r.push({index:t,order:n,width:e[t],relativeOffset:o}),o+=e[t]}),r}function r(e,t,n){var r,o=i(e,t),a=_.find(o,{index:t}),s=a.order,c=n-parseInt(a.width/2,10),l=c,u=e.length;for(r=s;r<u;r++)o[r].absoluteOffset=l,l+=o[r].width;for(l=c,r=s-1;r>=0;r--)l-=o[r].width,o[r].absoluteOffset=l;return o}function o(e,t,n,i){var o,s=i===a?t+1:t-1;if(s<0?s=e.length-1:s>=e.length&&(s=0),o=r(e,s,n),i===a){var c=o.pop(),l=o[0];o.unshift(c),c.relativeOffset=l.relativeOffset-c.width,c.absoluteOffset=l.absoluteOffset-c.width}else{var u=o.shift(),d=o[o.length-1];o.push(u),u.relativeOffset=d.relativeOffset+d.width,u.absoluteOffset=d.absoluteOffset+d.width}return o}var a=e;return{getOffsets:r,getPreAnimationOffsets:o,getRelativeOffsets:i,getIndexesWithPivot:n}}]).directive("stampede",["$timeout","stampedeLayout","stampedeLeft","stampedeRight",function(e,t,n,i){"use strict";function r(t,n){function i(e){var n=(t.pivot+e)%t.items.length;t.itemsLength!==t.items.length&&((angular.isUndefined(t.lastPivot)||t.lastPivot===t.itemsLength-1)&&(t.lastPivot=t.items.length-1),t.itemsLength=t.items.length),t.pivot=n<0?t.items.length+n:n,t.$apply()}t.pivot=0,t.lastPivot=void 0,t.itemsLength=t.items.length;var r;t.$watchCollection("items",function(i,s){function c(){return!!f||0!==n.find(a).length&&n.find(a).length===t.items.length&&(n.find(".stampede-picture-container").each(function(e){p[e]=!1,$(this).imagesLoaded().always(function(){p[e]=!0})}),f=!0,!0)}function l(){return p.indexOf(!1)===-1}function u(){if(d++,c()&&l())o(t,n,{animate:!1});else{if(!(d<100))throw new Error("Too many attempts at rendering the carousel");e(u,100)}}var d=0;angular.equals(i,r)||e(u,100)}),t.$watch("pivot",function(e,i){e!==i&&(t.lastPivot=i,o(t,n))}),n.find(c).on("click",function(){i(u)}),n.find(l).on("click",function(){i(d)}),$(window).on("resize.stampede",_.throttle(function(){o(t,n)},100)),window.moveBy=i}function o(e,n,i){function r(e,t,n){n=n||{};var i=n.animate===!1||!o(t,e.position().left);i&&e.addClass("no-animate"),e.css({left:t,top:y/2-e.outerHeight(!0)/2+"px"}),i&&e.removeClass("no-animate")}function o(t,n){if(void 0===e.lastPivot||i.animate===!1)return!1;if(c()===u){if(t<n)return!1}else if(t>n)return!1;return!0}function c(){if(0===e.pivot&&e.lastPivot===e.items.length-1)return d;if(0===e.lastPivot&&e.pivot===e.items.length-1)return u;if(e.lastPivot>e.pivot)return u;if(e.lastPivot<e.pivot)return d;throw new Error("Invalid pivot state. "+e.pivot+" "+e.lastPivot)}var l,f={animate:!0},p=n.find(a),h=n.parent().outerWidth(),y=_.max(_.map(p,function(e){return $(e).outerHeight(!0)})),m=_.map(p,function(e){return $(e).outerWidth(!0)}),g=e.pivot,v=parseInt(h/2),b=angular.isUndefined(e.lastPivot)?u:c();i=angular.extend({},f,i||{}),n.find(s).height(y),angular.isUndefined(e.lastPivot)||(l=t.getPreAnimationOffsets(m,g,v,b),_.forEach(l,function(e){r(p.eq(e.index),e.absoluteOffset,{animate:!1})})),p.removeClass("stampede-current"),p.eq(e.pivot%e.items.length).addClass("stampede-current"),l=t.getOffsets(m,g,v),_.forEach(l,function(e){r(p.eq(e.index),e.absoluteOffset)})}var a="[data-stampede-item]",s="[data-stampede-carousel]",c="[data-stampede-left-arrow]",l="[data-stampede-right-arrow]",u=n,d=i,f=!1,p=[];return{restrict:"A",scope:{items:"="},template:"<div ng-transclude></div>",link:r,replace:!0,transclude:!0}}])},{}],7:[function(e,t,n){!function(){"use strict";function e(){function e(e){var t=String(e);return 1===t.length?"0"+t:t}Date.prototype.toISOString||(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}e();var t=angular.module("util",[]);t.directive("raw2html",function(){var e=function(e,t,n){var i=e.text||"",r=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),o=r.replace(/(\r\n?|\n)/g,"<br />$1");t.html(o)};return{restrict:"A",scope:{text:"="},replace:!0,template:"<span></span>",link:e}}),t.directive("preventDefault",function(){return function(e,t,n){var i=n.preventDefault||"click";$(t).on(i,function(e){e.preventDefault()})}}),t.factory("isMobile",["$window",function(e){return e.TT_MOBILE}])}()},{}],8:[function(e,t,n){!function(){"use strict";function e(e){return e.toLowerCase().replace(/&/g,"and").replace(/[^a-z0-9]/g,"-")}var t=window.angular,n=t.module("ProValueApp",["curtain","tt","youtube-embed"]).config(["$interpolateProvider",function(e){e.startSymbol("{[{").endSymbol("}]}")}]);n.directive("stickyHeader",["$window","$timeout",function(e,n){function i(n,i,r){function o(){n.$apply(function(){n.visible=a.scrollTop()>n.topToggle})}n.visible=!1,n.partner=t.element("["+n.stickyPartnerAttr+"]"),n.topToggle=n.partner.offset().top+n.partner.height();var a=$(e);a&&a.on("scroll",function(){var e=parseInt(n.throttleMs);_.debounce(o,e,{leading:!0,trailing:!1})()})}return{restrict:"A",link:i,scope:{stickyPartnerAttr:"@",throttleMs:"@",visible:"="}}}]).directive("carousel",["$timeout",function(e){function t(e,t,n){function i(e,t){return(e%t+t)%t}function r(t){e.carouselIndex=i(t,l),a.css("left",e.carouselIndex*-100+"%")}function o(){if(a.css("width",100*l+"%"),c.css("width",100/l+"%"),e.index=0,e.$watch("carouselIndex",function(e){r(e)}),s){var t=new Hammer(s);t.on("panright panleft",function(e){window.requestAnimationFrame(function(){$(s).css("transform","translate("+Math.round(e.deltaX)+"px)")})}),t.on("panend pancancel",function(t){var n=$(a).width(),i=Math.abs(t.deltaX)-n/6>0,o=0;i&&(o=t.deltaX>0?-1:1),window.requestAnimationFrame(function(){$(s).css("transform","translate(0px)")}),e.$apply(function(){r(e.carouselIndex+o)})})}}var a=t.find("[data-carousel-plate]"),s=t.find("[data-carousel-swiper]");s=s?s[0]:null;var c=a.find("[data-carousel-item]"),l=c.length;o()}return{restrict:"A",link:t,scope:{carouselIndex:"=?"}}}]).controller("ProfessionController",["$scope","$location","categories","$window",function(t,n,i,r){function o(){t.requestVolume=0,t.taxonym=void 0}function a(e){return encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29")}function s(){return"Microsoft Internet Explorer"==r.navigator.appName||"Netscape"==r.navigator.appName&&r.navigator.userAgent.toLowerCase().indexOf("trident")!=-1}var c=527046;t.selectedCategory=null;var l=$("#Calculator-Flipbox-frame");o(),t.$watch("selectedCategory",function(e){var n=i[e];n&&n.percentage?(t.requestVolume=c*n.percentage,t.taxonym=n.sentenceTaxonym):o()}),t.displayedCategories=[],t.displayedCategoriesNoEmptyStats=[],jQuery.each(i,function(e,n){t.displayedCategories.push(e),n.percentage&&t.displayedCategoriesNoEmptyStats.push(e)}),t.$on("SearchForm:Selected",function(e,n){t.selected={name:n.Name,id:n.ID}}),t.navigateToWelcomeSuggestedServices=function(n){return n.preventDefault(),t.selected&&(r.location.href="welcome/suggested-services?category-name="+e(t.selected.name)+"&category-full-name="+a(t.selected.name)+"&category-id="+t.selected.id),!1},t.navigateToWelcomeCategory=function(n){n.preventDefault();var o=i[t.selectedCategory];return o&&(r.location.href="/welcome/for/"+e(t.selectedCategory)+"/services"),!1},t.flipCard=function(){t.selectedCategory&&(l.addClass("flipped"),window.TT_MOBILE&&(location.hash="Calculator-top"),s()&&(l.find(".face.front").addClass("hidden"),l.find(".face.back").removeClass("hidden")))},t.unflipCard=function(){l.removeClass("flipped"),s()&&(l.find(".face.front").removeClass("hidden"),l.find(".face.back").addClass("hidden"))}}]).controller("VideoControl",["$scope",function(e){e.videoPlayer={player:null},e.curtainClass="box",e.displayVideo=!1,e.showVideo=function(){e.displayVideo=!0},e.$watch("displayVideo",function(t){e.videoPlayer.player&&(t?e.videoPlayer.player.playVideo():e.videoPlayer.player.pauseVideo())})}]).controller("CarouselController",["$scope",function(e){e.index=0}]).controller("TrackingController",["$scope","action",function(e,t){e.searchFocus=!1,e.toggleSearchOverlay=function(e){$(".SearchOverlay").toggleClass("visible",e)},t.track("service signup/step",{step:"pvp"})}]).controller("BrowseController",["$scope","metacategories",function(t,n){t.metaCategories=n,t.selectedMeta=t.metaCategories[0],t.isSelectedMeta=function(e){return t.selectedMeta.title===e.title},t.clickMeta=function(e){t.selectedMeta=e},t.subMetaWelcome=function(t){return"/welcome/for/"+e(t)+"/services?chooser=1"}}])}()},{}],9:[function(e,t,n){angular.module("youtube-embed",["ng"]).service("youtubeEmbedUtils",["$window","$rootScope",function(e,t){function n(e,t){return e.indexOf(t)>-1}var i={},r=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\S*[^\w\s-])([\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,o=/t=(\d+)[ms]?(\d+)?s?/;return i.getIdFromURL=function(e){var t=e.replace(r,"$1");if(n(t,";")){var i=t.split(";");if(n(i[1],"%")){var o=decodeURIComponent(t.split(";")[1]);t=("https://youtube.com"+o).replace(r,"$1")}else t=i[0]}else n(t,"#")&&(t=t.split("#")[0]);return t},i.getTimeFromURL=function(e){e=e||"";var t=e.match(o);if(!t)return 0;var i=t[0],r=t[1],a=t[2];return"undefined"!=typeof a?(a=parseInt(a,10),r=parseInt(r,10)):n(i,"m")?(r=parseInt(r,10),a=0):(a=parseInt(r,10),r=0),a+60*r},function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),i.ready=!1,e.onYouTubeIframeAPIReady=function(){t.$apply(function(){i.ready=!0})},i}]).directive("youtubeVideo",["youtubeEmbedUtils",function(e){var t=1,n={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"queued"},i="youtube.player.";return{restrict:"EA",scope:{videoId:"=?",videoUrl:"=?",player:"=player",playerVars:"=?",playerHeight:"=?",playerWidth:"=?"},link:function(r,o,a){function s(){var e=Array.prototype.slice.call(arguments);r.$apply(function(){r.$emit.apply(r,e)})}function c(e){var t=n[e.data];"undefined"!=typeof t&&s(i+t,r.player,e),r.$apply(function(){r.player.currentState=t})}function l(e){s(i+"ready",r.player,e)}function u(){var e=angular.copy(r.playerVars);e.start=e.start||r.urlStartTime;var t=new YT.Player(f,{height:r.playerHeight,width:r.playerWidth,videoId:r.videoId,playerVars:e,events:{onReady:l,onStateChange:c}});return t.id=f,t}function d(){(r.videoId||r.playerVars.list)&&(r.player&&r.player.d&&"function"==typeof r.player.destroy&&r.player.destroy(),r.player=u())}r.utils=e;var f=a.playerId||o[0].id||"unique-youtube-embed-id-"+t++;o[0].id=f,r.playerHeight=r.playerHeight||390,r.playerWidth=r.playerWidth||640,r.playerVars=r.playerVars||{};var p=r.$watch(function(){return r.utils.ready&&("undefined"!=typeof r.videoUrl||"undefined"!=typeof r.videoId||"undefined"!=typeof r.playerVars.list)},function(e){e&&(p(),"undefined"!=typeof r.videoUrl?r.$watch("videoUrl",function(e){r.videoId=r.utils.getIdFromURL(e),r.urlStartTime=r.utils.getTimeFromURL(e),d()}):"undefined"!=typeof r.videoId?r.$watch("videoId",function(){r.urlStartTime=null,d()}):r.$watch("playerVars.list",function(){r.urlStartTime=null,d()}))});r.$watchCollection(["playerHeight","playerWidth"],function(){r.player&&r.player.setSize(r.playerWidth,r.playerHeight)}),r.$on("$destroy",function(){r.player&&r.player.destroy()})}}}])},{}],10:[function(e,t,n){TT.define("tt/action",function(e,t){"use strict";var n=e("tt/environment"),i=t.call=function(e,t){var i,r=$.Deferred();if(t=$.extend({url:e,type:"post",dataType:"json",defaultErrorMessage:n.messages.errors.generic},t||{}),i=t.context||window,"success"in t||"error"in t||"complete"in t)throw new Error("action.call: You're stuck in the past. Use jQuery.Deferred methods.");return $.ajax(t).done(function(e,n,o){"object"!=typeof e||e.success!==!1?r.resolveWith(i,arguments):r.rejectWith(i,[e.error||t.defaultErrorMessage,n,o])}).fail(function(e,n,o){var a,s;"application/json"==e.getResponseHeader("Content-Type")&&(a=JSON.parse(e.responseText)),s=a&&a.success===!1&&a.error?a.error:t.defaultErrorMessage,r.rejectWith(i,[s,a,o,e])}),r.promise()};t.track=function(e,t){return i("/event/add/",{contentType:"application/json",data:JSON.stringify($.extend({type:e},t))})}})},{}]},{},[2]);