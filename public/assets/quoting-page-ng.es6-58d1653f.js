!function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n?n:e)},d,d.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null,o=n(i),r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,s=n(r),a="undefined"!=typeof window?window.angular:"undefined"!=typeof t?t.angular:null,u=n(a),l=e("../templates/highlight-replace-text.ng.html"),d=n(l),c=u["default"].module("auraComponents"),f=500,p=1e3,h=["error","warning"];c.directive("highlightReplaceText",["$timeout",function(e){function t(t,n,i){if(i.highlightReplaceFrom!==i.highlightReplaceTo){var r=new RegExp(i.highlightReplaceFrom,"g"),a=i.highlightReplaceTo,u=!0,l=!0,d=n.find(".HighlightReplaceText-container");d.html(i.highlightReplaceText);var c=(0,o["default"])("<span>").addClass("toHighlight").text(i.highlightReplaceFrom).prop("outerHTML");d.html(d.html().replace(r,c));var m=n.find(".toHighlight");m.addClass("is-highlighted");var g=function(e){m.addClass("theme-"+e),u=!1,l=!1};s["default"].includes(h,i.highlightReplaceMode)&&g(i.highlightReplaceMode);var y=null,v=function(n){n&&(m.stop(!1,!0),e.cancel(y),m.each(function(e,t){(0,o["default"])(t).text(i.highlightReplaceFrom).addClass("is-highlighted")})),u&&"highlightReplaceTo"in i&&(y=e(function(){m.each(function(e,t){var n=(0,o["default"])(t);n.addClass("is-faded-out").delay(p).queue(function(e){n.text(a).removeClass("is-faded-out"),e()}),l&&n.delay(p).queue(function(e){n.removeClass("is-highlighted"),e()})})},f),t.highlightReplaceData.trigger=!1)};v(!1),t.$watch("highlightReplaceData.trigger",function(e,t){t!==e&&e&&v(!0)})}}return{restrict:"A",scope:{highlightReplaceData:"="},transclude:!0,template:d["default"],link:t}}])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../templates/highlight-replace-text.ng.html":2}],2:[function(e,t,n){t.exports='<div class="HighlightReplaceText">\n    <div class="HighlightReplaceText-container" ng-transclude></div>\n</div>\n'},{}],3:[function(e,t,n){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,a=i(s),u=e("../../../utilities/promises/scripts/promises.es6"),l=i(u),d=e("../../../utilities/track/scripts/track.es6"),c=i(d),f=["handshake","responses","payment"],p=80,h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),a["default"].extend(this,t),this.addSubscriptions()}return r(e,[{key:"trackingDataForModal",value:function(e,t){var n=f[t],i=f[e];this.track("modal "+i+" show",{onboarding_modal_referrer:n})}},{key:"track",value:function(e,t){var n={owning_user_id:this.owningUserId,request_user_id:this.requestUserId};t=a["default"].extend(n,t),(0,c["default"])("customer contact opt in onboarding/"+e,t)}},{key:"addSubscriptions",value:function(){var e=this;this.pubsub.subscribe("modal","show",function(t){t===e.modalId&&(e.track("modal handshake show",{onboarding_modal_referrer:e.ccOptInReferrer||"organic"}),e.isCcFlip&&l["default"].http.post("/event-logs",{event_id:p})["catch"](a["default"].noop))}),this.pubsub.subscribe("modal","hide",function(t){t===e.modalId&&e.track("modal "+f[e.page.index]+" hide"),e.page.index=0})}}]),e}();n["default"]=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../utilities/promises/scripts/promises.es6":21,"../../../utilities/track/scripts/track.es6":26}],4:[function(e,t,n){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i="undefined"!=typeof window?window.angular:"undefined"!=typeof t?t.angular:null,o=n(i),r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,s=n(r),a=e("./customer-contact-tutorial-modal.es6"),u=n(a),l=o["default"].module("auraComponents");l.directive("customerContactTutorial",["eventPubSub",function(e){return{restrict:"E",scope:!0,link:function(t,n,i){i.showModalOnLoad&&"isPopAllowed"in i&&e.publish("modal","show",i.modalId),e.subscribe(i.modalId,"show",function(){e.publish("modal","show",i.modalId)})}}}]),l.directive("customerContactTutorialModal",["eventPubSub","customerContactOnboardingData",function(e,t){function n(n,i,o){function r(){n.$apply()}n.page={index:0},n.customerContactTutorialModal=new u["default"]({modalId:o.modalId,paginationId:o.paginationId,owningUserId:o.owningUserId,requestUserId:o.requestUserId,ccOptInReferrer:o.ccOptInReferrer,isCcFlip:"isCcFlip"in o,page:n.page,onUpdate:r,pubsub:e}),n.modalComponents=[{header:"Quote for free. Reach more customers. Get hired more.",imgurl:t.handshake},{header:"Only use credits when a customer responds to your quote for the first time",imgurl:t.response}],n.$watch("customerContactTutorialModal.page",function(e,t){s["default"].get(t,"index")!==s["default"].get(e,"index")&&n.customerContactTutorialModal.trackingDataForModal(e.index,t.index)},!0)}return{restrict:"E",scope:!0,link:n}}])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./customer-contact-tutorial-modal.es6":3}],5:[function(e,t,n){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i="undefined"!=typeof window?window.angular:"undefined"!=typeof t?t.angular:null,o=n(i),r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,s=n(r),a=e("./quote-form.es6"),u=n(a),l=o["default"].module("auraComponents"),d=["$timeout","$window","constants","eventPubSub","$parse"],c=function(e,t,n,i,o){function r(r,a,l){var d=o(l.managerBind)(r),c=function(){r.$apply()},f={manager:d,onUpdate:c,attachments:d.attachments,reusedAttachments:d.reusedAttachments,isInManagement:d.isInManagement||!1,isDisabled:"isDisabled"in l,showPriceGuidance:l.showPriceGuidance,showCustomerContactModal:l.showCustomerContactModal,priceEstimateUpperBound:l.priceEstimateUpperBound,quoteTemplates:n.quoteTemplates,suggestedBidEstimateType:n.suggestedBidEstimateType,requesterFirstName:n.requesterFirstName,senderFirstName:n.senderFirstName,encodedRequestId:n.encodedRequestId,encodedServiceId:n.encodedServiceId,requestCategoryPriceTypes:n.requestCategoryPriceTypes,isFirstTimeQuoter:n.isFirstTimeQuoter,revertModalId:l.revertModalId,modalId:l.modalId,experiments:{optionalQuoteMessageVariant:s["default"].get(n,"experiments.optionalQuoteMessageVariant","no-experiment")}},p=new u["default"](a,e,i,t,f);r.$parent.quoteForm=p,r.quoteForm=p,p.showTipsModalToFirstTimeQuoters(),r.$watch("quoteForm.model.estimateType.selectedOption",function(e){i.publish("quote-form","selected-option-change",e)}),i.subscribe("input-price","keyup",function(){p.onInputPriceChange()}),e(function(){d.model.estimateType.selectedOption=n.suggestedBidEstimateType},0)}return{restrict:"E",scope:!0,link:{pre:r}}};l.directive("quoteForm",d.concat([c]))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./quote-form.es6":6}],6:[function(e,t,n){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null,a=i(s),u="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,l=i(u),d=e("../../../utilities/promises/scripts/promises.es6"),c=i(d),f=e("../../../utilities/string/scripts/string.es6"),p=e("../../../utilities/track/scripts/track.es6"),h=i(p),m=function(){function e(t,n,i,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};o(this,e),this.$el=t,this.$timeout=n,this.pubsub=i,this.$window=r,l["default"].extend(this,{onUpdate:l["default"].noop},s),this.model=this.manager.model,this.loadElementReferences(),this.subscribeCustomerContactAcceptTerms(),this.showPriceTypeValidationError=!1,this.showContent=!1,this.hasShownPriceTypeValidationError=!1,this.blockWithCustomerContactModal=s.showCustomerContactModal||s.revertModalId,this.showInputPriceTooHighWarning=!1,this.showInputPriceTooHighWarningTriggered=!1,this.showQuoteMessageSection="treatment"!==l["default"].get(this.experiments,"optionalQuoteMessageVariant")}return r(e,[{key:"toggleQuoteMessageSection",value:function(){this.showQuoteMessageSection=!this.showQuoteMessageSection}},{key:"loadElementReferences",value:function(){this.$priceTypeSelect=this.$el.find("[data-price-type]"),this.$form=this.$el.find("form[id=quote-on-request]"),this.$messageBox=this.$el.find("textarea[name=message]")}},{key:"showTipsModalToFirstTimeQuoters",value:function(){var e=this;this.isFirstTimeQuoter&&(this.$messageBox.attr("readonly",!0),this.$messageBox.one("focus",function(){e.$messageBox.prop("readonly",!1),e.showTipsModal()}))}},{key:"bypassCustomerContactModal",value:function(){return!this.blockWithCustomerContactModal||(this.pubsub.publish(this.modalId,"show"),this.pubsub.publish("modal","show",this.revertModalId),!1)}},{key:"subscribeCustomerContactAcceptTerms",value:function(){var e=this;this.pubsub.subscribe(this.modalId,"accept-terms",function(){e.blockWithCustomerContactModal=!1}),this.pubsub.subscribe(this.revertModalId,"redeem-credits",function(){e.blockWithCustomerContactModal=!1})}},{key:"fillMessageBox",value:function(e){this.model.message.text=e}},{key:"getBackendAttachmentData",value:function(e){return l["default"].pick(e,["sha1","filesize","filename","mimeType"])}},{key:"addAttachmentsToForm",value:function(){var e=this,t=this.$el.find("[attachments]"),n=l["default"].map(this.attachments,"input"),i=this.$form;(n.length>0||this.reusedAttachments)&&(i.attr("enctype","multipart/form-data"),l["default"].each(n,function(e){e.name="filedata[]",t.first().append(e)}),l["default"].each(this.reusedAttachments,function(t){var n=e.getBackendAttachmentData(t);e.addInputToForm("att_json[]",JSON.stringify(n))}))}},{key:"buildFormData",value:function(){var e=new FormData,t=(0,f.toNumber)(this.model.price.hourly||this.model.price.fixed),n=(0,f.toNumber)(this.model.estimateType.selectedOption);return e.append("sav",this.encodedServiceId),e.append("price",t),e.append("price_type",n),e.append("message",this.model.message.text),e}},{key:"submitFormData",value:function(e,t){var n=this;c["default"].http.post("/quote-templates/"+e,t,{dataType:"json",processData:!1,contentType:!1}).then(function(){n.$window.location.reload()})}},{key:"saveNewTemplate",value:function(){var e=this.buildFormData(),t=l["default"].map(this.attachments,"input");l["default"].each(t,function(t){e.append("filedata[]",t.files[0])}),this.submitFormData("create",e)}},{key:"updateExistingTemplate",value:function(){var e=this,t=l["default"].map(this.reusedAttachments,function(t){var n=e.getBackendAttachmentData(t);return JSON.stringify(n)}),n=this.buildFormData();n.append("created_time",this.model.templateId),l["default"].each(t,function(e){n.append("previous_attachments[]",e)}),0===t.length&&n.append("remove_existing_attachments",!0),l["default"].each(this.attachments,function(e){n.append("filedata[]",e.input.files[0])}),this.submitFormData("update",n)}},{key:"setShowPriceTypeValidationErrorFlag",value:function(){var e=l["default"].values(this.requestCategoryPriceTypes);this.showPriceTypeValidationError=!l["default"].includes(e,this.manager.currentTemplatePriceType),this.showPriceTypeValidationError&&(this.hasShownPriceTypeValidationError=!0)}},{key:"isTemplatePriceTypeValidForRequest",value:function(){return 0===this.quoteTemplates.length||(!!this.model.isNewQuote||(!!this.isInManagement||(!!this.hasShownPriceTypeValidationError||(this.setShowPriceTypeValidationErrorFlag(),!this.showPriceTypeValidationError))))}},{key:"submitFromCard",value:function(){var e=this.manager.selector.getCurrentTemplate();this.manager.currentTemplatePriceType=this.manager.getPriceTypeForTemplate(e),this.isTemplatePriceTypeValidForRequest()?this.manager.submitWithoutEditing():this.manager.editCurrentTemplate()}},{key:"submit",value:function(){var e=this;if(!this.blockWithCustomerContactModal){var t=l["default"].toNumber(this.model.estimateType.selectedOption),n=this.manager.constants.estimateTypes;return t===n.ESTIMATE_TYPE_FIXED?(this.model.price.hourly=null,this.model.price.fixed=(0,f.toNumber)(this.model.price.fixed)):t===n.ESTIMATE_TYPE_HOURLY?(this.model.price.fixed=null,this.model.price.hourly=(0,f.toNumber)(this.model.price.hourly)):(this.model.price.hourly=null,this.model.price.fixed=null),this.addAttachmentsToForm(),this.addDirtyTemplateToForm(),this.addStructuredProAnswersToForm(),this.isInManagement?void(this.model.isNewQuote?this.saveNewTemplate():this.updateExistingTemplate()):void(this.isTemplatePriceTypeValidForRequest()&&(this.requesterFirstName!==this.senderFirstName&&this.addTemplateParametersToForm(),this.$timeout(function(){e.$form.attr("action","/bid/create"),e.$form.get(0).submit()},0)))}}},{key:"onSubmitButtonClick",value:function(){this.submit(),this.onUpdate()}},{key:"addInputToForm",value:function(e,t){(0,a["default"])("<input>").attr({type:"hidden",name:e,value:t}).appendTo(this.$form)}},{key:"addTemplateParametersToForm",value:function(){this.model.templateId&&this.model.templateMessage&&(this.model.templatePrice||this.model.templatePriceNotApplicable)&&(this.addInputToForm("template_id",this.model.templateId),this.addInputToForm("template_price",this.model.templatePrice),this.addInputToForm("template_message",this.model.templateMessage))}},{key:"addDirtyTemplateToForm",value:function(){var e=!(!this.$form.find(".ng-dirty").length&&!this.model.price.isDirty);this.addInputToForm("is_template_dirty",e)}},{key:"addStructuredProAnswersToForm",value:function(){var e=(0,l["default"])(this.manager.quoteDetails).filter("pro_needs_to_fill").map(function(e){return[e.id,e.selectedValue]}).fromPairs().value();this.addInputToForm("structured_pro_answers",JSON.stringify(e))}},{key:"showTipsModal",value:function(){this.pubsub.publish("modal","show","tips")}},{key:"getActionText",value:function(){return this.isInManagement?"Save":"Send"}},{key:"onInputPriceChange",value:function(){if(this.priceEstimateUpperBound){var e=this.model.price.hourly||this.model.price.fixed;this.clearInputPriceWarning(),e.length>=2&&(0,f.toNumber)(e)>(0,f.toNumber)(this.priceEstimateUpperBound)&&(this.showInputPriceTooHighWarningTriggered=!0,this.showPriceGuidance&&(this.showInputPriceTooHighWarning=!0,this.onUpdate())),(0,h["default"])("quote form/enter price",{encodedRequestId:this.encodedRequestId,encodedServiceId:this.encodedServiceId,enteredPrice:e,priceEstimateUpperBound:this.priceEstimateUpperBound,priceGuidanceTriggered:this.showInputPriceTooHighWarningTriggered})}}},{key:"clearInputPriceWarning",value:function(){this.showInputPriceTooHighWarning=!1,this.onUpdate()}}]),e}();n["default"]=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../utilities/promises/scripts/promises.es6":21,"../../../utilities/string/scripts/string.es6":24,"../../../utilities/track/scripts/track.es6":26}],7:[function(e,t,n){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,a=i(s),u="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null,l=i(u),d=e("../../../utilities/track/scripts/track.es6"),c=i(d),f=e("../../../utilities/promises/scripts/promises.es6"),p=i(f),h=function(){function e(t,n,i,r,s,u){o(this,e),this.$el=t,this.pubsub=n,this.constants=i,this.$window=r,this.$timeout=s,this.model={estimateType:{selectedOption:i.suggestedBidEstimateType},message:{},price:{}};var l={encoded_service_id:i.encodedServiceId,encoded_request_id:i.encodedRequestId};this.trackingData=a["default"].extend(l,u.trackingData),this.quoteTemplates=a["default"].values(i.quoteTemplates),this.highlightReplaceData={},this.attachments=[],this.reusedAttachments=[],this.enableTemplateCardSelector=a["default"].get(this.quoteTemplates,"length")>0,this.showTemplateCardSelector=this.enableTemplateCardSelector,this.constants.naEstimateTypes=[this.constants.estimateTypes.ESTIMATE_TYPE_MORE_INFO,this.constants.estimateTypes.ESTIMATE_TYPE_ONSITE],this.loadElementReferences()}return r(e,[{key:"loadElementReferences",value:function(){this.$quoteEditor=this.$el.find(".QuoteForm-message-box textarea"),this.$contentPane=this.$el.find(".SplitView-contentPane")}},{key:"showMoreModal",value:function(){this.pubsub.publish("modal","show","choose-an-action")}},{key:"showSettingsCoachmark",value:function(){var e=this;this.seenCoachmark=!1,this.pubsub.subscribe("quote-management","inCardMode",function(t){t&&!e.seenCoachmark&&(e.seenCoachmark=!0,e.pubsub.publish("coachmark","show-coachmark","new-settings"))})}},{key:"clearQuoteForm",value:function(){this.isScheduling=!1,this.isEditing=!1,this.model.message.text=null,this.model.price.fixed=null,this.model.price.hourly=null,this.quoteForm.attachments=[],this.quoteForm.reusedAttachments=[]}},{key:"hideMoreModal",value:function(){this.pubsub.publish("modal","hide","choose-an-action")}},{key:"showDeleteConfirmModal",value:function(){this.pubsub.publish("modal","show","confirm-delete")}},{key:"hideDeleteConfirmModal",value:function(){this.pubsub.publish("modal","hide","confirm-delete")}},{key:"focusNameEditor",value:function(){this.pubsub.publish("inline-edit","focus")}},{key:"focusQuoteEditor",value:function(e){e.preventDefault(),this.$quoteEditor.focus()}},{key:"getActiveTemplate",value:function(){return this.quoteTemplates[this.selector.currentIndex]}},{key:"getTrackingEventData",value:function(){return{}}},{key:"getToolbarText",value:function(){}},{key:"selectTemplateListItemAtIndex",value:function(e){return e}},{key:"editTemplateAtIndex",value:function(e){return this.selector.currentIndex=e,this.editCurrentTemplate(),this}},{key:"scrollToTop",value:function(){return this.$contentPane.scrollTop(0),this}},{key:"checkClickArea",value:function(e){if(e){var t=(0,l["default"])(e.target),n=t.parents(".TemplateCardSelector-template-settings-btn");if(n.length>0)return!0}return!1}},{key:"confirmDelete",value:function(e){p["default"].http.post("/quote-templates/delete",{sav:this.constants.encodedServiceId,created_time:this.getActiveTemplate().template_id}).then(e)}},{key:"trackDelete",value:function(e){var t=this.getTrackingEventData();(0,c["default"])(this.trackingPrefix+"/click confirm delete",t,e)}},{key:"toggleViewMode",value:function(){this.isInCardMode=!this.isInCardMode,this.pubsub.publish("quote-management","inCardMode",this.isInCardMode)}}]),e}();n["default"]=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../utilities/promises/scripts/promises.es6":21,"../../../utilities/track/scripts/track.es6":26}],8:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,r=t(o),s="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,a=t(s),u="undefined"!=typeof window?window.angular:"undefined"!=typeof e?e.angular:null,l=t(u),d=l["default"].module("auraComponents"),c=800,f=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e);var o={};this.options=a["default"].extend(o,i)}return i(e,[{key:"destroy",value:function(){}}]),e}();d.directive("requestDetails",["eventPubSub",function(e){function t(t,n){var i={};t.requestDetails=new f(n,i),t.getImageSource=function(e,t){return"url('"+e+"?width="+t+"')"},t.showImageDetailsModal=function(e){var i=t.getImageSource(e,c);n.find(".RequestDetails-imageContainer").css("background-image",i);var o=(0,r["default"])("#image-details-modal").data("showModal");o()},t.showCustomerContactLearnMoreModal=function(){e.publish("modal","show","customer-contact-learn-more")},t.$on("$destroy",function(){t.requestDetails.destroy()})}return{restrict:"EA",scope:!0,link:t}}])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i="undefined"!=typeof window?window.angular:"undefined"!=typeof t?t.angular:null,o=n(i),r="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null,s=n(r),a=e("./template-card-selector.es6"),u=n(a);e("../../../components/highlight-replace-text/scripts/highlight-replace-text.es6");var l=o["default"].module("auraComponents");l.directive("templateCardSelector",["$timeout","constants","eventPubSub","$window","$parse",function(e,t,n,i,o){function r(r,a,l){var d=o(l.managerBind)(r),c=function(){r.$apply()},f={manager:d,onUpdate:c,model:d.model,trackingData:d.trackingData,isInManagement:d.isInManagement||!1,requesterFirstName:t.requesterFirstName,requestCategoryPriceTypes:t.requestCategoryPriceTypes,encodedServiceId:t.encodedServiceId},p=new u["default"](a,i,e,n,f);p.setupSwiping(),r.$parent.selector=p,r.selector=p,r.$watch("selector.currentIndex",function(){(0,s["default"])(i).scrollTop(0)})}return{restrict:"E",link:r}}])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../components/highlight-replace-text/scripts/highlight-replace-text.es6":1,"./template-card-selector.es6":10}],10:[function(e,t,n){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null,a=i(s),u="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,l=i(u),d="undefined"!=typeof window?window.Hammer:"undefined"!=typeof t?t.Hammer:null,c=i(d),f=e("../../../utilities/track/scripts/track.es6"),p=i(f),h=e("../../../utilities/promises/scripts/promises.es6"),m=i(h),g=e("../../../utilities/math/math.es6"),y=i(g),v=function(){function e(t,n,i,r){var s=this,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};o(this,e),this.$el=t,this.$window=(0,a["default"])(n),this.$timeout=i,this.pubsub=r,l["default"].extend(this,{onUpdate:l["default"].noop},u),this.quoteTemplates=this.manager.quoteTemplates,this.loadElementReferences(),this.currentIndex=0,this.arrivedFromPreviousStep=!0,l["default"].each(this.quoteTemplates,function(e){l["default"].each(e.attachments,s.convertAttachment)})}return r(e,[{key:"loadElementReferences",value:function(){this.$wrapper=this.$el.find(".TemplateCardSelector"),this.$pageIndicator=this.$el.find("[data-page-indicator]"),this.$container=this.$el.find(".TemplateCardSelector-container"),this.$fadePromise=null}},{key:"convertAttachment",value:function(e){e.isImage=l["default"].startsWith(e.mimeType,"image"),e.isImage&&(e.imageSrc=e.imagePreviewUrl),e.name=e.filename}},{key:"getActiveTemplates",value:function(){return l["default"].reject(this.quoteTemplates,"isDeleted")}},{key:"getActiveTemplateCount",value:function(){return this.getActiveTemplates().length}},{key:"showNextReusableQuote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.model.disableCardAnimations=!1,this.arrivedFromPreviousStep=e>0,this.currentIndex=(0,y["default"])(this.currentIndex+e,this.getActiveTemplateCount())}},{key:"fillQuoteFormWithCurrentTemplate",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.getCurrentTemplate(),i=this.requestCategoryPriceTypes,o=n.message,r=new RegExp("_first_name_","g");t&&(o=l["default"].replace(o,r,this.requesterFirstName));var s=n.price_type.toString(),a=l["default"].toNumber(n.price_type);this.model.templateId=n.template_id,this.model.templatePrice=n.price,this.model.templateMessage=o,this.model.templatePriceNotApplicable=l["default"].includes(this.manager.constants.naEstimateTypes,a),this.model.message.text=o,this.isInManagement||(this.manager.currentTemplatePriceType=this.manager.getPriceTypeForTemplate(n));var u=l["default"].includes(i,this.manager.currentTemplatePriceType);if(this.isInManagement||u){this.model.estimateType.selectedOption=s;var d=this.manager.constants.estimateTypes;this.$timeout(function(){a===d.ESTIMATE_TYPE_FIXED?e.model.price.fixed=n.price:a===d.ESTIMATE_TYPE_HOURLY&&(e.model.price.hourly=n.price)},0)}this.manager.quoteForm.reusedAttachments=l["default"].clone(n.attachments)}},{key:"getCurrentTemplate",value:function(){return this.quoteTemplates[this.currentIndex]}},{key:"submitCurrentTemplate",value:function(){var e=this;this.fillQuoteFormWithCurrentTemplate(),this.$timeout(function(){e.manager.quoteForm.submit()},0)}},{key:"getDisplayIndex",value:function(){return this.currentIndex+1}},{key:"getPagination",value:function(){return this.getDisplayIndex()+"/"+this.getActiveTemplateCount()}},{key:"updateName",value:function(e){var t=this.getCurrentTemplate();t&&m["default"].http.post("/quote-templates/update",{sav:this.encodedServiceId,created_time:t.template_id,template_name:e})}},{key:"removeWobble",value:function(){this.$container.removeClass("theme-wobble")}},{key:"track",value:function(e){(0,p["default"])(this.manager.trackingPrefix+"/"+e,this.trackingData)}},{key:"setupSwiping",value:function(){var e=this;if("Hammer"in this.$window[0]){var t=new c["default"](this.$wrapper.get(0),{pointers:1,threshold:10,direction:c["default"].DIRECTION_HORIZONTAL,velocity:.2}),n=this,i=function(t){if(t&&!(n.getActiveTemplateCount()<2)){switch(t.direction){case c["default"].DIRECTION_LEFT:n.showNextReusableQuote(1),e.track("swipe next template card");break;case c["default"].DIRECTION_RIGHT:n.showNextReusableQuote(-1),e.track("swipe previous template card")}e.onUpdate()}};t.on("swipe",i)}}}]),e}();n["default"]=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../utilities/math/math.es6":18,"../../../utilities/promises/scripts/promises.es6":21,"../../../utilities/track/scripts/track.es6":26}],11:[function(e,t,n){(function(i,o){!function(e,i){"object"==typeof n&&"undefined"!=typeof t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.ES6Promise=i()}(this,function(){"use strict";function t(e){return"function"==typeof e||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function r(e){G=e}function s(e){J=e}function a(){return function(){return i.nextTick(f)}}function u(){return function(){z(f)}}function l(){var e=0,t=new Z(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function d(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function c(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;e<Y;e+=2){var t=ne[e],n=ne[e+1];t(n),ne[e]=void 0,ne[e+1]=void 0}Y=0}function p(){try{var t=e,n=t("vertx");return z=n.runOnLoop||n.runOnContext,u()}catch(i){return c()}}function h(e,t){var n=arguments,i=this,o=new this.constructor(g);void 0===o[oe]&&A(o);var r=i._state;return r?!function(){var e=n[r-1];J(function(){return $(r,o,e,i._result)})}():M(i,o,e,t),o}function m(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(g);return C(n,e),n}function g(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function w(e){try{return e.then}catch(t){return ue.error=t,ue}}function b(e,t,n,i){try{e.call(t,n,i)}catch(o){return o}}function T(e,t,n){J(function(e){var i=!1,o=b(n,t,function(n){i||(i=!0,t!==n?C(e,n):P(e,n))},function(t){i||(i=!0,I(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&o&&(i=!0,I(e,o))},e)}function _(e,t){t._state===se?P(e,t._result):t._state===ae?I(e,t._result):M(t,void 0,function(t){return C(e,t)},function(t){return I(e,t)})}function k(e,t,i){t.constructor===e.constructor&&i===h&&t.constructor.resolve===m?_(e,t):i===ue?I(e,ue.error):void 0===i?P(e,t):n(i)?T(e,t,i):P(e,t)}function C(e,n){e===n?I(e,y()):t(n)?k(e,n,w(n)):P(e,n)}function q(e){e._onerror&&e._onerror(e._result),E(e)}function P(e,t){e._state===re&&(e._result=t,e._state=se,0!==e._subscribers.length&&J(E,e))}function I(e,t){e._state===re&&(e._state=ae,e._result=t,J(q,e))}function M(e,t,n,i){var o=e._subscribers,r=o.length;e._onerror=null,o[r]=t,o[r+se]=n,o[r+ae]=i,0===r&&e._state&&J(E,e)}function E(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,o=void 0,r=e._result,s=0;s<t.length;s+=3)i=t[s],o=t[s+n],i?$(n,i,o,r):o(r);e._subscribers.length=0}}function F(){this.error=null}function x(e,t){try{return e(t)}catch(n){return le.error=n,le}}function $(e,t,i,o){var r=n(i),s=void 0,a=void 0,u=void 0,l=void 0;if(r){if(s=x(i,o),s===le?(l=!0,a=s.error,s=null):u=!0,t===s)return void I(t,v())}else s=o,u=!0;t._state!==re||(r&&u?C(t,s):l?I(t,a):e===se?P(t,s):e===ae&&I(t,s))}function S(e,t){try{t(function(t){C(e,t)},function(t){I(e,t)})}catch(n){I(e,n)}}function O(){return de++}function A(e){e[oe]=de++,e._state=void 0,e._result=void 0,e._subscribers=[]}function D(e,t){this._instanceConstructor=e,this.promise=new e(g),this.promise[oe]||A(this.promise),L(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&P(this.promise,this._result))):I(this.promise,R())}function R(){return new Error("Array Methods must be provided an Array")}function N(e){return new D(this,e).promise}function j(e){var t=this;return new t(L(e)?function(n,i){for(var o=e.length,r=0;r<o;r++)t.resolve(e[r]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function Q(e){var t=this,n=new t(g);return I(n,e),n}function B(){
throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function W(e){this[oe]=O(),this._result=this._state=void 0,this._subscribers=[],g!==e&&("function"!=typeof e&&B(),this instanceof W?S(this,e):U())}function V(){var e=void 0;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var i=null;try{i=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===i&&!n.cast)return}e.Promise=W}var H=void 0;H=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var L=H,Y=0,z=void 0,G=void 0,J=function(e,t){ne[Y]=e,ne[Y+1]=t,Y+=2,2===Y&&(G?G(f):ie())},X="undefined"!=typeof window?window:void 0,K=X||{},Z=K.MutationObserver||K.WebKitMutationObserver,ee="undefined"==typeof self&&"undefined"!=typeof i&&"[object process]"==={}.toString.call(i),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3),ie=void 0;ie=ee?a():Z?l():te?d():void 0===X&&"function"==typeof e?p():c();var oe=Math.random().toString(36).substring(16),re=void 0,se=1,ae=2,ue=new F,le=new F,de=0;return D.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===re&&n<e;n++)this._eachEntry(t[n],n)},D.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===m){var o=w(e);if(o===h&&e._state!==re)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===W){var r=new n(g);k(r,e,o),this._willSettleAt(r,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},D.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===re&&(this._remaining--,e===ae?I(i,n):this._result[t]=n),0===this._remaining&&P(i,this._result)},D.prototype._willSettleAt=function(e,t){var n=this;M(e,void 0,function(e){return n._settledAt(se,t,e)},function(e){return n._settledAt(ae,t,e)})},W.all=N,W.race=j,W.resolve=m,W.reject=Q,W._setScheduler=r,W._setAsap=s,W._asap=J,W.prototype={constructor:W,then:h,"catch":function(e){return this.then(null,e)}},V(),W.polyfill=V,W.Promise=W,W})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:12}],12:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function s(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){g&&h&&(g=!1,h.length?m=h.concat(m):y=-1,m.length&&u())}function u(){if(!g){var e=r(a);g=!0;for(var t=m.length;t;){for(h=m,m=[];++y<t;)h&&h[y].run();y=-1,t=m.length}h=null,g=!1,s(e)}}function l(e,t){this.fun=e,this.array=t}function d(){}var c,f,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(e){c=i}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var h,m=[],g=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new l(e,t)),1!==m.length||g||r(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=d,p.addListener=d,p.once=d,p.off=d,p.removeListener=d,p.removeAllListeners=d,p.emit=d,p.prependListener=d,p.prependOnceListener=d,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],13:[function(e,t,n){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i="undefined"!=typeof window?window.angular:"undefined"!=typeof t?t.angular:null,o=n(i),r=e("./quoting-page.es6"),s=n(r);e("../../../modules/quote-form/scripts/quote-form-ng.es6"),e("../../../modules/template-card-selector/scripts/template-card-selector-ng.es6"),e("../../../modules/request-details/scripts/request-details.es6"),e("../../../modules/customer-contact-tutorial/scripts/customer-contact-tutorial.es6"),e("../submodules/quote-block-form/scripts/quote-block-form-ng.es6");var a=o["default"].module("auraComponents"),u=["$timeout","constants","$window","eventPubSub"],l=function(e,t,n,i){function r(r,a,u){var l=new s["default"](a,i,t,n,e,{trackingData:t.trackingData,basePath:u.basePath});r.manager=l,r.requestId=t.encodedRequestId,r.serviceId=t.encodedServiceId,r.reporterId=t.encodedReporterId;var d=function(){return r.$apply()};o["default"].element(n).on("resize.manager",d)}function a(e){e.quoteForm&&(e.manager.quoteForm=e.quoteForm,e.manager.model=e.quoteForm.model,e.manager.selector=e.selector)}return{restrict:"E",scope:!0,link:{pre:r,post:a}}};a.directive("quotingPage",u.concat([l]))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../modules/customer-contact-tutorial/scripts/customer-contact-tutorial.es6":4,"../../../modules/quote-form/scripts/quote-form-ng.es6":5,"../../../modules/request-details/scripts/request-details.es6":8,"../../../modules/template-card-selector/scripts/template-card-selector-ng.es6":9,"../submodules/quote-block-form/scripts/quote-block-form-ng.es6":15,"./quoting-page.es6":14}],14:[function(e,t,n){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function g(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:g(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},l="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,d=i(l),c=e("../../../modules/quote-templates/scripts/quote-template-page.es6"),f=i(c),p=e("../../../utilities/promises/scripts/promises.es6"),h=i(p),m=function(e){function t(e,n,i,s,a,u){o(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,s,a,u));return l.trackingPrefix="quote form",l.isInManagement=!1,l.isInCardMode=!0,l.isEditing=!1,l.showContent=!1,l.model.isNewQuote=!1,l.isInDifferentCategory=!1,l.quoteForm=null,l.quoteDetails=i.quoteDetails,l.originalCategory=null,l.basePath=u.basePath,l}return s(t,e),a(t,[{key:"loadElementReferences",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"loadElementReferences",this).call(this),this.$oneTimeButtons=this.$el.find("[button-one-time-use]")}},{key:"getTrackingEventData",value:function(){var e=d["default"].clone(this.trackingData);return e.template_created_time=this.getActiveTemplate().template_id,e.template_number=this.selector.getDisplayIndex(),e}},{key:"getToolbarText",value:function(){return this.showTemplateCardSelector?"Choose template":this.model.isNewQuote?"Create quote":this.isEditing?"Send quote":"Create quote"}},{key:"selectTemplateListItemAtIndex",value:function(e,t){this.editTemplateAtIndex(e,t)}},{key:"getPriceTypeForTemplate",value:function(e){return this.constants.estimateTypeTexts[e.price_type]}},{key:"editCurrentTemplate",value:function(e){if(!u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"checkClickArea",this).call(this,e)){this.isEditing=!0;var n=this.selector.getCurrentTemplate();this.originalCategory=n.categories[0],this.currentTemplatePriceType=this.getPriceTypeForTemplate(n),this.isInDifferentCategory=this.constants.requestCategoryName!==this.originalCategory,this.quoteForm.showPriceTypeValidationError=!1,this.selector.fillQuoteFormWithCurrentTemplate(),this.quoteForm.setShowPriceTypeValidationErrorFlag(),this.goToQuoteFormEditExistingMode()}}},{key:"goToQuoteForm",value:function(){var e=this;this.selector.$pageIndicator.hide(),this.isEditing=!0,this.showTemplateCardSelector=!1,this.scrollToTop(),this.constants.showStructuredQuoteTooltip&&this.$timeout(function(){e.pubsub.publish("tooltip","show","structured-quote-tooltip")})}},{key:"goToQuoteFormCreateNewMode",value:function(){this.goToQuoteForm(),this.model.isNewQuote=!0}},{key:"goToQuoteFormEditExistingMode",value:function(){this.goToQuoteForm(),this.model.isNewQuote=!1}},{key:"goToReuseForm",value:function(){this.isEditing=!1,this.model.isNewQuote=!1,this.showTemplateCardSelector=!0,this.highlightReplaceData.trigger=!0,this.quoteForm.hasShownPriceTypeValidationError=!1,this.scrollToTop(),this.$oneTimeButtons.prop("disabled",!1)}},{key:"submitWithoutEditing",value:function(){var e=this;this.selector.fillQuoteFormWithCurrentTemplate(),this.$timeout(function(){e.quoteForm.submit()})}},{key:"temporarilyShowDeleteBanner",value:function(){this.pubsub.publish("banner","show-temporarily",{id:"delete",duration:3e3})}},{key:"confirmDelete",value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"confirmDelete",this).call(this,function(){e.hideDeleteConfirmModal(),e.clearQuoteForm(),e.getActiveTemplate().isDeleted=!0,e.temporarilyShowDeleteBanner(),e.selector.getActiveTemplateCount()>0&&(e.goToReuseForm(),e.selector.showNextReusableQuote()),e.trackDelete()})}},{key:"isTemplateItemDeleted",value:function(e){return!!this.quoteTemplates[e].isDeleted}},{key:"updatePushState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.basePath&&this.$window.history&&this.$window.history.pushState){var n={route:e},i=e?this.basePath+"/"+e:this.basePath;t?this.$window.history.replaceState(n,"",i):this.$window.history.pushState(n,"",i)}}},{key:"adjustCurrencyPosition",value:function(){var e=this;this.$timeout(function(){e.pubsub.publish("input-price","adjust-currency-position")})}},{key:"showRequestDetailModal",value:function(){this.pubsub.publish("modal","show","request-details")}},{key:"declineRequest",value:function(){var e=this;h["default"].http.post("/invite/decline",{req:this.constants.encodedRequestId,sav:this.constants.encodedServiceId,reason:this.constants.declineReason}).then(function(){e.$window.location.href="/profile/work/leads"})}}]),t}(f["default"]);n["default"]=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../modules/quote-templates/scripts/quote-template-page.es6":7,"../../../utilities/promises/scripts/promises.es6":21}],15:[function(e,t,n){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i="undefined"!=typeof window?window.angular:"undefined"!=typeof t?t.angular:null,o=n(i),r=e("./quote-block-form.es6"),s=n(r),a=e("../templates/quote-block-form.ng.html"),u=n(a),l=o["default"].module("auraComponents");l.directive("quoteBlockForm",["quoteBlockFormViewModel",function(e){function t(t,n){var i={title:e.title,subtitle:e.subtitle,learnMoreUrl:e.learnMoreUrl,buttonUrl:e.buttonUrl,buttonText:e.buttonText};t.quoteBlockForm=new s["default"](n,i),t.$on("$destroy",function(){t.quoteBlockForm.destroy()})}return{restrict:"E",scope:{},template:u["default"],link:t}}])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../templates/quote-block-form.ng.html":17,"./quote-block-form.es6":16}],16:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,s=t(r),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e);var o={};s["default"].extend(this,o,n),this.$el=t,this.loadElementReferences()}return o(e,[{key:"loadElementReferences",value:function(){this.$wrapper=this.$el.find(".quote-block-form")}},{key:"destroy",value:function(){}}]),e}();n["default"]=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,n){t.exports='<div class="quote-block-form">\n    <div class="tp-grid tp-grid--center">\n        <div class="tp-col tp-col--12 tp-col--md-10 tp-col--lg-9">\n            <div class="quote-block-form__icon">\n                <svg-icon type="user_48x48" size="lg"></svg-icon>\n            </div>\n            <div class="tp-heading-4 tp-text--center" ng-bind="quoteBlockForm.title"></div>\n            <div class="quote-block-form__subtitle">\n                {{ quoteBlockForm.subtitle }}\n                <a ng-href="{[{ quoteBlockForm.learnMoreUrl }]}"\n                    ng-if="quoteBlockForm.learnMoreUrl">\n                    Learn More\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="tp-button-row tp-button-row--center">\n        <a class="tp-button tp-button--large"\n            ng-href="{[{ quoteBlockForm.buttonUrl }]}"\n            ng-bind="quoteBlockForm.buttonText">\n        </a>\n    </div>\n</div>\n'},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t){return(e%t+t)%t};n["default"]=i},{}],19:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(o,r){u["default"].ajax(d["default"].extend(i,{url:e,data:t,type:n})).done(o).fail(r)})}function o(e,t,n){return i(e,t,"GET",n)}function r(e,t,n){return i(e,t,"POST",n)}function s(e,t,n){return o(e,t,n).then(function(e){return d["default"].isObject(e)?e:JSON.parse(e)})}Object.defineProperty(n,"__esModule",{value:!0}),n.request=i,n.get=o,n.post=r,n.getJSON=s;var a="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,u=t(a),l="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,d=t(l)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,n){"use strict";function i(e,t){return Promise.race([e,new Promise(function(e,n){setTimeout(function(){n(new Error("Promise wasn't resolved in time"))},t)})])}function o(e){return new Promise(function(t){setTimeout(t,e)})}Object.defineProperty(n,"__esModule",{value:!0}),n.invokeWithTimeout=i,n.resolveAfterTimeout=o},{}],21:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("es6-promise"),s=o(r),a=e("./promise-http.es6"),u=i(a),l=e("./promise-timeout.es6");s["default"].polyfill();var d={http:u,invokeWithTimeout:l.invokeWithTimeout,resolveAfterTimeout:l.resolveAfterTimeout};n["default"]=d},{"./promise-http.es6":19,"./promise-timeout.es6":20,"es6-promise":11}],22:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.toString(),n=r["default"].padEnd(t[0],t.length,"0");return r["default"].replace(n,/\B(?=(\d{3})+(?!\d))/g,",")+"+"}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i;var o="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t(o)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(e,t,n){"use strict";function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e+"s",o=1===t?e:i;return n?t+" "+o:""+o}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],24:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.pluralize=n.floorAndFormatNumber=n.toNumber=void 0;var o=e("./to-number.es6"),r=i(o),s=e("./floor-and-format-number.es6"),a=i(s),u=e("./pluralize.es6"),l=i(u);n.toNumber=r["default"],n.floorAndFormatNumber=a["default"],n.pluralize=l["default"]},{"./floor-and-format-number.es6":22,"./pluralize.es6":23,"./to-number.es6":25}],25:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=[","];return r["default"].isString(e)&&""!==e?(e=r["default"].replace(e,new RegExp(t.join("|"),"g"),""),r["default"].toNumber(e)):e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i;var o="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t(o)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){u.push({type:e,data:t}),d(n)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i;var o="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,r=t(o),s="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,a=t(s),u=[],l=10,d=a["default"].debounce(function(e){var t={url:"/event/batch-add/",type:"post",data:{buffer:u}};a["default"].isFunction(e)&&(t.success=function(t){e(null,t)},t.error=function(t){e(t,null)}),u.length>0&&(r["default"].ajax(t),u=[])},l)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[13]);